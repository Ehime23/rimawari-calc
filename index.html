<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>表面利回り計算機</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="apple-touch-icon" href="rimawari-calc-icon.png">
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      padding: 20px;
    }
    .container {
      max-width: 400px;
      background: white;
      padding: 20px;
      margin: auto;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
      color: #333;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>表面利回り計算</h2>

    <label for="price">物件価格（万円）</label>
    <input type="number" id="price" placeholder="例：2400">

    <label for="income">年間家賃収入（万円）</label>
    <input type="number" id="income" placeholder="例：180">

    <button onclick="calcYield()">利回りを計算</button>

    <hr>

    <label for="sellIncome">年間家賃収入（万円）</label>
    <input type="number" id="sellIncome" placeholder="例：180">

    <label for="sellPrice">売却金額（万円）</label>
    <input type="number" id="sellPrice" placeholder="例：2000">

    <button onclick="calcSellYield()">売却価格に対する利回り</button>

    <hr>

    <label for="targetYield">希望利回り（%）</label>
    <input type="number" id="targetYield" placeholder="例：7.5">

    <label for="expectedIncome">年間家賃収入（万円）</label>
    <input type="number" id="expectedIncome" placeholder="例：180">

    <button onclick="calcTargetPrice()">売却価格を逆算</button>

    <div id="result"></div>
  </div>

  <script>
    function calcYield() {
      const price = parseFloat(document.getElementById('price').value);
      const income = parseFloat(document.getElementById('income').value);
      const resultDiv = document.getElementById('result');

      if (!price || !income || price <= 0) {
        resultDiv.textContent = '正しい数値を入力してください。';
        return;
      }

      const yieldValue = (income / price) * 100;
      resultDiv.textContent = `表面利回り：${yieldValue.toFixed(2)}％（物件価格 ${price}万円 / 年間収入 ${income}万円）`;
    }

    function calcSellYield() {
      const income = parseFloat(document.getElementById('sellIncome').value);
      const sellPrice = parseFloat(document.getElementById('sellPrice').value);
      const resultDiv = document.getElementById('result');

      if (!sellPrice || !income || sellPrice <= 0) {
        resultDiv.textContent = '売却価格と収入を入力してください。';
        return;
      }

      const yieldValue = (income / sellPrice) * 100;
      resultDiv.textContent = `売却価格に対する利回り：${yieldValue.toFixed(2)}％（売却価格 ${sellPrice}万円 / 年間収入 ${income}万円）`;
    }

    function calcTargetPrice() {
      const targetYield = parseFloat(document.getElementById('targetYield').value);
      const income = parseFloat(document.getElementById('expectedIncome').value);
      const resultDiv = document.getElementById('result');

      if (!targetYield || !income || targetYield <= 0) {
        resultDiv.textContent = '希望利回りと収入を入力してください。';
        return;
      }

      const price = income / (targetYield / 100);
      resultDiv.textContent = `希望利回り ${targetYield.toFixed(2)}％ における売却価格は：約 ${price.toFixed(2)} 万円 です。`;
    }
  </script>
</body>
</html>
